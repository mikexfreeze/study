<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>waterfall-horizontal demo</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/waterfall.css">
</head>
<body>
<div id="header">
    <h1>waterfall-horizontal infinitescroll</h1>
</div>
<a href="https://github.com/senntyou/waterfall-horizontal"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
<div id="wrapper">
<div id="container"></div>
</div>
<script type="text/x-handlebars-template" id="waterfall-horizontal-tpl">
{{#items}}
    <div class="item" style="position: absolute;left:{{left}}px;top:{{top}}px; height:{{height}}px;width:{{width}}px;background-image: url({{src}})"></div>
{{/items}}
</script>
<script id="entry-template" type="text/x-handlebars-template">
    <div class="entry">
        <h1>{{title}}</h1>
        <div class="body">
            {{body}}
        </div>
    </div>
</script>
<script src="./js/libs/jquery/jquery.js"></script>
<script src="./js/libs/handlebars/handlebars.js"></script>
<script src="./js/waterfall-horizontal.js"></script>
<script src="./js/learn.js"></script>
<script>
    var source = $("#waterfall-horizontal-tpl").html();
    var template = Handlebars.compile(source);
    var html;


    $.ajax({
        url: './data/data.json',

        dataType: "json",
        success: function(data) {
            console.log(data.items);

            data.items = calculate(data.items,config);

            html = template(data);
            $("#container").html(html);
        },
        error: function(jqXHR) {
//            self._responeseError('error');
        }
    });
    
    

//    var source   = $("#entry-template").html();
//    var template = Handlebars.compile(source);
//    var context = {title: "My New Post", body: "This is my first post!"};
//    var html    = template(context);

//    var source = "<p>Hello, my name is {{name}}. I am from {{hometown}}. I have " +
//        "{{kids.length}} kids:</p>" +
//        "<ul>{{#kids}}<li>{{name}} is {{age}}</li>{{/kids}}</ul>";
//    var template = Handlebars.compile(source);
//
//    var data = { "name": "Alan", "hometown": "Somewhere, TX",
//        "kids": [{"name": "Jimmy", "age": "12"}, {"name": "Sally", "age": "4"}]};
//    var html = template(data);




//$('#container').waterfallHorizontal({
//    itemCls: 'item',
//	rowHeight: 236,
//	gutterWidth: 14,
//	gutterHeight: 14,
//    path: function(page) {
//        return './data/data.json?page=' + page;
//    }
//});
</script>
</body>
</html>